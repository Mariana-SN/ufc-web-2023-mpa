<!DOCTYPE html>
<html>
<head>
  <title>Minha Loja de Carros</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>  
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <style>
   html,
body,
.container-fluid {
  height: 100%;
  margin: 0;
  padding: 0;
}

.sidebar {
  height: 100%;
  width: 200px;
  background-color: #f8f9fa;
  padding-top: 20px;
}

.sidebar a {
  padding: 6px 8px 6px 16px;
  text-decoration: none;
  font-size: 16px;
  color: #343a40;
  display: block;
}

.sidebar a:hover {
  color: #000;
  background-color: #e9ecef;
}

.content {
  padding: 20px;
}

.card {
  height: 100%;
}

.card-body {
  height: calc(100% - 68px); /* Ajuste conforme necessário para levar em conta o espaço ocupado pelo título e pelo texto do card */
}

.card.mb-4 {
  margin-bottom: 20px;
}

.row-with-spacing {
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">Minha Loja de Carros</a>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/logout">Logout</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="row">
      <div class="col-md-2">
        <div class="sidebar">
          <a href="/loja">Loja</a>
          <a href="/loja/aluguel">Meus Aluguéis</a>
          <a href="/loja/conta">Minha Conta</a>
        </div>
      </div>
      <div class="col-md-10">
        <div class="container">
          <h2 class="mt-4">Carros Disponíveis:</h2> <br><br>
          <div class="row row-with-spacing">
            <% cars.forEach(function(car, index) { %>
              <div class="col-md-4">
                <div class="card mb-4">
                  <img class="card-img-top" src="https://conteudo.imguol.com.br/c/entretenimento/30/2019/11/14/aspark-owl-1573758305936_v2_900x506.jpg" alt="Foto do Carro">
                  <div class="card-body">
                    <h5 class="card-title"><%= car.name %></h5>
                    <p class="card-text">Marca: <%= car.brand %></p>
                    <p class="card-text">Cor: <%= car.color %></p>
                    <p class="card-text">Valor: <%= car.value %></p>
                    <p class="card-text">Preço da Diária: <%= car.dailyPrice %></p>
                    <% if (car.availableToday) { %>
                      <p class="card-text">Status: Disponível Hoje</p>
                    <% } else { %>
                      <p class="card-text">Status: Indisponível Hoje</p>
                      <p class="card-text">Disponível em: <%= car.nextAvailableDate %></p>
                    <% } %>
                    <a href="/loja/alugar" class="btn btn-primary">Alugar</a>
                  </div>
                </div>
              </div>
              <% if ((index + 1) % 3 === 0) { %>
                </div>
                <div class="row row-with-spacing">
              <% } %>
            <% }) %>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
