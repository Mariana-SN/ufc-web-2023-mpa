<!DOCTYPE html>
<html>

<head>
  <title>Minha Loja de Carros</title>
  <!-- <link rel="stylesheet" type="text/css" src="../public/estilo.css"> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <style>
    html,
    body,
    .container-fluid {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .sidebar {
      height: 100%;
      width: 200px;
      background-color: #f8f9fa;
      padding-top: 20px;
    }

    .sidebar a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 16px;
      color: #343a40;
      display: block;
    }

    .sidebar a:hover {
      color: #000;
      background-color: #e9ecef;
    }

    .content {
      padding: 20px;
    }

    .card {
      height: 100%;
    }

    .card-body {
      height: calc(100% - 68px);
      /* Ajuste conforme necessário para levar em conta o espaço ocupado pelo título e pelo texto do card */
    }

    .card.mb-4 {
      margin-bottom: 20px;
    }

    .row-with-spacing {
      margin-bottom: 30px;
    }

    .car-image {
      height: 200px;
      width: auto;
    }
  </style>
</head>

<body>
  <header data-bs-theme="dark">
    <div class="navbar navbar-dark bg-dark shadow-sm">
      <div class="container">
        <a href="#" class="navbar-brand d-flex align-items-center">
          <strong>Minha Loja de Carros</strong>
        </a>
        <div>
          <a href="/signin" class="navbar-toggler">Fazer Login</a>
          <a href="/signup" class="navbar-toggler">Cadastrar-se</a>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <h2 class="mt-4">Carros Disponíveis:</h2>
    <div class="row row-with-spacing">
      <% cars.forEach(function(car, index) { %>
        <div class="col-md-4">
          <div class="card mt-4">
            <img class="card-img-top car-image" src="<%= car.photo %>" alt="Foto do Carro">
            <div class="card-body">
              <h5 class="card-title">
                <%= car.name %>
              </h5>
              <p class="card-text">Marca: <%= car.brand %>
              </p>
              <p class="card-text">Cor: <%= car.color %>
              </p>
              <p class="card-text">Valor: <%= car.price %>
              </p>
              <p class="card-text">Preço da Diária: <%= car.daily %>
              </p>
              <% if (car.available) { %>
                <p class="card-text">Status: Disponível Hoje</p>
                <% } else { %>
                  <p class="card-text">Status: Indisponível Hoje</p>
                  <% leases.forEach(function(lease) { %>
                    <% if (car._id == lease.carId) { %>
                      <p class="card-text">Disponível em: <%= lease.dateFinal.split('-').reverse().join('/') %>
                      </p>
                      <% } %>
                        <% }) %>
                          <% } %>
            </div>
          </div>
        </div>
        <% if ((index + 1) % 3===0) { %>
    </div>
    <div class="row row-with-spacing">
      <% } %>
        <% }) %>
    </div>
  </div>
  <br><br>
</body>

</html>